#!/bin/sh

# Install packages
case "$(uname -s)" in
  Darwin)
    echo "Installing on MacOS"
    brew install lame sox arduino-cli
    ;;

  Linux)
    echo "Installing on Linux"
    curl -fsSL https://raw.githubusercontent.com/arduino/arduino-cli/master/install.sh | sh
    sudo apk add lame sox
    ;;

  *)
    echo "Unknown operating system - aborting"
    exit 1
    ;;
esac

# Arduino: Update indices
arduino-cli core update-index

# Install core for Arduino Nano
arduino-cli core install arduino:avr

# Install required libs
arduino-cli lib install "MFRC522" "DFPlayer Mini Mp3 by Makuna" "JC_Button"
